CXXFLAGS = @MOD_CXXFLAGS@
CXX=@CXX@

NAME = sys-turntwo

DSFILES = Makefile.in $(NAME).cpp \
	cfile-start cfile-nssw cfile-ns-1 cfile-ns-2 cfile-lp-1 cfile-lp-2

$(NAME).so: ../../src/pddesys.h
	$(CXX) $(CXXFLAGS) -I../../src -o $(NAME).so $(NAME).cpp

distdir:
	cp -pR $(DSFILES) $(distdir)

clean:
	if { test -f *.so; } then rm *.so; fi

install: $(NAME).so
	
all: $(NAME).so
	
test:
	pdde -c cfile-start -o out-start -b br-start
test-nssw:
	pdde -c cfile-nssw -i out-start -o out-nssw -b br-nssw
test-ns:
	pdde -c cfile-ns-1 -i out-start -o out-ns-1 -b br-ns-1
	pdde -c cfile-ns-2 -i out-start -o out-ns-2 -b br-ns-2
test-lp:
	pdde -c cfile-lp-1 -i out-nssw -o out-lp-1 -b br-lp-1
	pdde -c cfile-lp-2 -i out-nssw -o out-lp-2 -b br-lp-2
