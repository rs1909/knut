CXXFLAGS = @MOD_CXXFLAGS@
CXX=@CXX@

NAME = sys-laser

DSFILES = Makefile.in $(NAME).cpp \
	cfile-start cfile-ns cfile-pd cfile-lp in-start

$(NAME).so: ../../src/pddesys.h
	$(CXX) $(CXXFLAGS) -I../../src -o $(NAME).so $(NAME).cpp

distdir:
	cp -pR $(DSFILES) $(distdir)

clean:
	if { test -f *.so; } then rm *.so; fi

install: $(NAME).so
	
all: $(NAME).so
	
test: $(NAME).so
	pdde -c cfile-start -i in-start -o out-start -b br-start
test-ns:
	pdde -c cfile-ns -i out-start -o out-ns -b branch-ns
test-pd:
	pdde -c cfile-pd -i out-start -o out-pd -b branch-pd
test-lp:
	pdde -c cfile-lp -i out-start -o out-lp -b branch-lp
