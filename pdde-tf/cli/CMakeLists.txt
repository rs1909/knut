LINK_DIRECTORIES( ${CBLAS_PATH} ${ATLAS_PATH} )

INCLUDE_DIRECTORIES( ${PDDE_SOURCE_DIR}/src
	${PDDE_BINARY_DIR}/src
	${PDDE_SOURCE_DIR}/UMFPACK/AMD/Include
	${PDDE_SOURCE_DIR}/UMFPACK/UMFPACK/Include
	${PDDE_SOURCE_DIR}/ATLAS/include )

ADD_EXECUTABLE( pdde main.cpp )

TARGET_LINK_LIBRARIES( pdde pddelib laarpack umfpack amd cblas atlas pddef2c ${CMAKE_DL_LIBS} )

STRING( TOUPPER ${CMAKE_BUILD_TYPE} BUILD_TYPE )
IF( NOT MSVC )
IF( ${BUILD_TYPE} STREQUAL "RELEASE" )
  SET_TARGET_PROPERTIES( pdde PROPERTIES LINK_FLAGS "-Wl,-s" )
ENDIF( ${BUILD_TYPE} STREQUAL "RELEASE" )
ENDIF( NOT MSVC )

INSTALL( TARGETS pdde DESTINATION ${PDDE_BIN_DIR} )
